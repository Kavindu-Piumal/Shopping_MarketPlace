<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Final Add to Cart Validation</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Test both mobile and desktop CSS behavior */
        
        /* Mobile styles (up to 640px) */
        @media (max-width: 640px) {
            .add-to-cart-container {
                height: 32px !important;
                width: 96px !important;
                max-height: 32px !important;
                max-width: 96px !important;
                min-height: 32px !important;
                min-width: 96px !important;
                box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1) !important;
                border: 1px solid #d1fae5 !important;
                border-radius: 0.5rem !important;
                overflow: hidden !important;
                display: flex !important;
                align-items: center !important;
                flex-shrink: 0 !important;
            }
            
            .add-to-cart-container button,
            .add-to-cart-container > div {
                height: 32px !important;
                width: 32px !important;
                max-height: 32px !important;
                max-width: 32px !important;
                min-height: 32px !important;
                min-width: 32px !important;
                padding: 0 !important;
                flex-shrink: 0 !important;
            }
        }
        
        /* Desktop styles (641px and above) */
        @media (min-width: 641px) {
            .add-to-cart-container {
                width: auto !important;
                min-width: auto !important;
                max-width: none !important;
                display: flex !important;
                align-items: center !important;
                border-radius: 0.5rem !important;
                overflow: hidden !important;
            }
            
            .add-to-cart-container button,
            .add-to-cart-container > div {
                width: auto !important;
                min-width: 32px !important;
                max-width: none !important;
                padding: 0 8px !important;
            }
        }
    </style>
</head>
<body class="bg-gray-100 p-8">
    <div class="max-w-4xl mx-auto">
        <h1 class="text-3xl font-bold mb-8 text-center">Final Add to Cart Validation Test</h1>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            <!-- Desktop View Test -->
            <div class="bg-white p-6 rounded-lg shadow-lg">
                <h2 class="text-xl font-semibold mb-4">Desktop View (641px+)</h2>
                <div class="w-full max-w-[180px] lg:max-w-[150px] mx-auto">
                    <!-- Quantity Selector (Desktop should auto-size) -->
                    <div class="flex items-center bg-white border border-green-200 rounded-lg overflow-hidden h-8 w-24 sm:w-auto add-to-cart-container">
                        <button class="text-white w-8 h-8 flex items-center justify-center bg-green-500 hover:bg-green-600 flex-shrink-0">
                            -
                        </button>
                        <div class="bg-white text-center w-8 text-xs font-semibold text-gray-700 h-8 flex items-center justify-center flex-shrink-0">
                            2
                        </div>
                        <button class="text-white w-8 h-8 flex items-center justify-center bg-green-500 hover:bg-green-600 flex-shrink-0">
                            +
                        </button>
                    </div>
                    
                    <!-- Add to Cart Button -->
                    <button class="w-full bg-green-500 text-white px-3 py-1 rounded-lg hover:bg-green-600 text-xs font-medium h-8 flex items-center justify-center mt-4">
                        Add to Cart
                    </button>
                </div>
                
                <div class="mt-4 text-sm text-gray-600">
                    <p><strong>Expected Desktop Behavior:</strong></p>
                    <ul class="list-disc list-inside mt-2">
                        <li>Quantity controls auto-sized (not fixed 96px)</li>
                        <li>All three controls (-/qty/+) clearly visible</li>
                        <li>No horizontal cutoff</li>
                        <li>Uses Tailwind classes for sizing</li>
                    </ul>
                </div>
            </div>
            
            <!-- Mobile View Test -->
            <div class="bg-white p-6 rounded-lg shadow-lg">
                <h2 class="text-xl font-semibold mb-4">Mobile View (640px and below)</h2>
                <div class="w-full max-w-[180px] lg:max-w-[150px] mx-auto">
                    <!-- Quantity Selector (Mobile should be fixed 96px) -->
                    <div class="flex items-center bg-white border border-green-200 rounded-lg overflow-hidden h-8 w-24 sm:w-auto add-to-cart-container">
                        <button class="text-white w-8 h-8 flex items-center justify-center bg-green-500 hover:bg-green-600 flex-shrink-0">
                            -
                        </button>
                        <div class="bg-white text-center w-8 text-xs font-semibold text-gray-700 h-8 flex items-center justify-center flex-shrink-0">
                            2
                        </div>
                        <button class="text-white w-8 h-8 flex items-center justify-center bg-green-500 hover:bg-green-600 flex-shrink-0">
                            +
                        </button>
                    </div>
                    
                    <!-- Add to Cart Button -->
                    <button class="w-full bg-green-500 text-white px-3 py-1 rounded-lg hover:bg-green-600 text-xs font-medium h-8 flex items-center justify-center mt-4">
                        Add to Cart
                    </button>
                </div>
                
                <div class="mt-4 text-sm text-gray-600">
                    <p><strong>Expected Mobile Behavior:</strong></p>
                    <ul class="list-disc list-inside mt-2">
                        <li>Quantity controls fixed 96px width (32+32+32)</li>
                        <li>Controls remain compact and touch-friendly</li>
                        <li>No overflow or wrapping</li>
                        <li>Consistent with mobile UI patterns</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <div class="mt-8 bg-blue-50 p-6 rounded-lg">
            <h3 class="text-lg font-semibold mb-3">Testing Instructions</h3>
            <ol class="list-decimal list-inside space-y-2">
                <li>Test on desktop: Open browser dev tools, set to desktop size (>641px), verify controls auto-size</li>
                <li>Test on mobile: Set viewport to mobile size (â‰¤640px), verify controls are fixed 96px</li>
                <li>Add items to cart and verify quantity controls appear correctly</li>
                <li>Check that all three controls (-/qty/+) are fully visible without cutoff</li>
                <li>Verify responsive breakpoint works at 640px/641px boundary</li>
            </ol>
        </div>
        
        <div class="mt-6 bg-green-50 p-6 rounded-lg">
            <h3 class="text-lg font-semibold mb-3">What Was Fixed</h3>
            <ul class="list-disc list-inside space-y-2">
                <li>Removed conflicting CSS rules that forced width on desktop</li>
                <li>Properly scoped mobile CSS rules to @media (max-width: 640px)</li>
                <li>Added desktop CSS overrides to ensure Tailwind controls width</li>
                <li>Updated component to use responsive Tailwind classes (w-24 sm:w-auto)</li>
                <li>Ensured mobile behavior remains unchanged with fixed 96px width</li>
            </ul>
        </div>
    </div>
    
    <script>
        // Display current viewport info
        function updateViewportInfo() {
            const width = window.innerWidth;
            const breakpoint = width <= 640 ? 'Mobile' : 'Desktop';
            const info = document.getElementById('viewport-info') || document.createElement('div');
            info.id = 'viewport-info';
            info.className = 'fixed bottom-4 right-4 bg-black text-white px-3 py-2 rounded text-sm';
            info.textContent = `${width}px (${breakpoint})`;
            if (!document.getElementById('viewport-info')) {
                document.body.appendChild(info);
            }
        }
        
        updateViewportInfo();
        window.addEventListener('resize', updateViewportInfo);
    </script>
</body>
</html>
